:root{
  --bg:#ffffff; --paper:#ffffff; --ink:#1a1f24; --ink2:#616b76;
  --brand:#FFAA00; --brand2:#cc8a00; --line:#e8edf3;
  --node:#f7fafc; --terminal:#fff2e0;
}
html,body{height:100%}
body{
  margin:0;background:var(--bg);color:var(--ink);
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Arial
}
.topbar{
  position:sticky;top:0;z-index:3;display:flex;gap:.5rem;align-items:center;
  padding:.8rem 1rem;background:var(--paper);border-bottom:1px solid var(--line)
}
.brand{font-weight:800;letter-spacing:.2px}
.pill{display:inline-flex;align-items:center;gap:.4rem;
  padding:.35rem .6rem;border:1px solid var(--line);border-radius:999px;background:#fff}
.btn{border:1px solid var(--line);background:#fff;border-radius:.55rem;
  padding:.45rem .75rem;cursor:pointer;font:inherit}
.btn:hover{border-color:#ffd782;background:#fff7e6}
.btn.primary{background:var(--brand);border-color:var(--brand);color:#1b1400}
.btn.primary:hover{background:var(--brand2);border-color:var(--brand2);color:#110c00}
.btn.danger{background:#fff1f1;border-color:#ffd0d0;color:#7a0410}

.wrap{display:grid;grid-template-columns:1fr 360px;gap:14px;height:calc(100% - 60px)}
.canvasWrap{position:relative;background:
  linear-gradient(90deg,#fafcff 14px,transparent 1px) 0 0/15px 15px,
  linear-gradient(#fafcff 14px, transparent 1px) 0 0/15px 15px}
#rete{position:absolute; inset:0;}
.side{background:var(--paper);border-left:1px solid var(--line);padding:12px;overflow:auto}
.panel{background:var(--paper);border:1px solid var(--line);border-radius:12px;padding:12px;margin:12px}
.panel h3{margin:.2rem 0 .6rem;font-size:1rem}
.hint{font-size:.82rem;color:var(--ink2)}

/* Rete skin (v2 + vue preset) */
.rete-node{
  background:var(--node); border:1px solid #d9e4f2; border-radius:12px;
  box-shadow:0 6px 18px rgba(0,0,0,.06); padding:6px;
}
.rete-node .title{
  background:transparent; color:var(--ink); border-bottom:1px solid #eef3f8;
  font-weight:700; padding:4px 6px;
}
.rete-node.terminal{background:var(--terminal); border-color:#ffd9a6}
.socket{background:#fff; border:2px solid var(--brand)}
.socket.input{box-shadow:inset 0 0 0 2px rgba(255,170,0,.25)}
.socket.output{box-shadow:0 0 0 2px rgba(255,170,0,.25)}
.connection path{stroke:#9fb3c6; stroke-width:3; stroke-dasharray:8 6; animation:flow 3s linear infinite}
.connection.selected path{stroke:var(--brand)}
@keyframes flow { to { stroke-dashoffset:-200 } }

/* Controls inside nodes */
.control{margin:4px 0}
.control input[type="text"],
.control input[type="number"]{
  width:95%; max-width:480px; font:inherit; padding:4px 6px;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.control input[type="checkbox"]{ width:auto; transform:translateY(1px) }
